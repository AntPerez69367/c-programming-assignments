Pseudocode:

validate data
create shared memory
fork children 
  for children = 0
    fork();
    if fid = 0 then child process
    children++;

child process -> print shared mem
                 multiply by unique id
                 reprint shared mem
                 exit

parent process -> wait for child to exit
                  detach memory